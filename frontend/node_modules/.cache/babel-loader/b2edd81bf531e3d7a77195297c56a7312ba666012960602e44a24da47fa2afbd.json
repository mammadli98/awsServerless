{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./Registration.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Registration(){const[email,setEmail]=useState('');const[name,setName]=useState('');const[vorname,setVorname]=useState('');const[geburtstag,setGeburtstag]=useState('');const[plz,setPlz]=useState('');const[geschlecht,setGeschlecht]=useState('');const[systemrelevanz,setSystemrelevanz]=useState('');const[vorerkrankungen,setVorerkrankungen]=useState('');const[password,setPassword]=useState('');const[username,setUsername]=useState('');const[message,setMessage]=useState('');const handleSubmit=async e=>{e.preventDefault();// Convert the date format before sending it to the backend\nconst formattedGeburtstag=formatDate(geburtstag);const item={\"Name\":name,\"Vorname\":vorname,\"Mail\":email,\"Geburtstag\":formattedGeburtstag,\"PLZ\":plz,\"Geschlecht\":geschlecht,\"secret\":password,\"Systemrelevanz\":systemrelevanz,\"Vorerkrankungen\":vorerkrankungen};try{// You can replace this with your API endpoint\nconst response=await axios.post('https://9xna35s7vi.execute-api.eu-central-1.amazonaws.com/dev/user/writeitem',{\"items\":[item]});setMessage('Registration successful!');console.log(response.data);// Optional: Log response from server\n}catch(error){setMessage('Registration failed. Please try again.');console.error('Error:',error);// Log any errors\n}};// Function to format date as dd-mm-yyyy\nconst formatDate=dateString=>{const dateObject=new Date(dateString);const day=String(dateObject.getDate()).padStart(2,'0');const month=String(dateObject.getMonth()+1).padStart(2,'0');const year=dateObject.getFullYear();return\"\".concat(day,\"-\").concat(month,\"-\").concat(year);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Registration\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Vorname:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vorname,onChange:e=>setVorname(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Geburtstag:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:geburtstag,onChange:e=>setGeburtstag(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"PLZ:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:plz,onChange:e=>setPlz(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Geschlecht:\"}),/*#__PURE__*/_jsxs(\"select\",{value:geschlecht,onChange:e=>setGeschlecht(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mann\",children:\"Mann\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Frau\",children:\"Frau\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Systemrelevanz:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:systemrelevanz,onChange:e=>setSystemrelevanz(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Vorerkrankungen:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vorerkrankungen,onChange:e=>setVorerkrankungen(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});}export default Registration;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Registration","email","setEmail","name","setName","vorname","setVorname","geburtstag","setGeburtstag","plz","setPlz","geschlecht","setGeschlecht","systemrelevanz","setSystemrelevanz","vorerkrankungen","setVorerkrankungen","password","setPassword","username","setUsername","message","setMessage","handleSubmit","e","preventDefault","formattedGeburtstag","formatDate","item","response","post","console","log","data","error","dateString","dateObject","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","concat","className","children","onSubmit","type","value","onChange","target","required"],"sources":["/home/mammadli98/Documents/ExamsDocuments/WS2324/DSG AWS/project-demo/src/Registration.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './Registration.css';\n\nfunction Registration() {\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [vorname, setVorname] = useState('');\n  const [geburtstag, setGeburtstag] = useState('');\n  const [plz, setPlz] = useState('');\n  const [geschlecht, setGeschlecht] = useState('');\n  const [systemrelevanz, setSystemrelevanz] = useState('');\n  const [vorerkrankungen, setVorerkrankungen] = useState('');\n  const [password, setPassword] = useState('');\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // Convert the date format before sending it to the backend\n    const formattedGeburtstag = formatDate(geburtstag);\n    const item = {\n      \"Name\": name,\n      \"Vorname\": vorname,\n      \"Mail\": email,\n      \"Geburtstag\": formattedGeburtstag,\n      \"PLZ\": plz,\n      \"Geschlecht\": geschlecht,\n      \"secret\": password,\n      \"Systemrelevanz\": systemrelevanz,\n      \"Vorerkrankungen\": vorerkrankungen\n    };\n    try {\n      // You can replace this with your API endpoint\n      const response = await axios.post('https://9xna35s7vi.execute-api.eu-central-1.amazonaws.com/dev/user/writeitem', {\n        \"items\": [item]\n      });\n      setMessage('Registration successful!');\n      console.log(response.data); // Optional: Log response from server\n    } catch (error) {\n      setMessage('Registration failed. Please try again.');\n      console.error('Error:', error); // Log any errors\n    }\n  };\n\n  // Function to format date as dd-mm-yyyy\n  const formatDate = (dateString) => {\n    const dateObject = new Date(dateString);\n    const day = String(dateObject.getDate()).padStart(2, '0');\n    const month = String(dateObject.getMonth() + 1).padStart(2, '0');\n    const year = dateObject.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>User Registration</h1>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Vorname:</label>\n          <input\n            type=\"text\"\n            value={vorname}\n            onChange={(e) => setVorname(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Geburtstag:</label>\n          <input\n            type=\"date\"\n            value={geburtstag}\n            onChange={(e) => setGeburtstag(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>PLZ:</label>\n          <input\n            type=\"text\"\n            value={plz}\n            onChange={(e) => setPlz(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Geschlecht:</label>\n          <select\n            value={geschlecht}\n            onChange={(e) => setGeschlecht(e.target.value)}\n            required\n          >\n            <option value=\"\">Select</option>\n            <option value=\"Mann\">Mann</option>\n            <option value=\"Frau\">Frau</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label>Systemrelevanz:</label>\n          <input\n            type=\"number\"\n            value={systemrelevanz}\n            onChange={(e) => setSystemrelevanz(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Vorerkrankungen:</label>\n          <input\n            type=\"number\"\n            value={vorerkrankungen}\n            onChange={(e) => setVorerkrankungen(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n          />\n        </div>\n        <button type=\"submit\">Register</button>\n      </form>\n      {message && <p className=\"message\">{message}</p>}\n    </div>\n  );\n}\n\nexport default Registration;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACe,GAAG,CAAEC,MAAM,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACiB,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACmB,cAAc,CAAEC,iBAAiB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACqB,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACyB,QAAQ,CAAEC,WAAW,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC2B,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAA6B,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACA,KAAM,CAAAC,mBAAmB,CAAGC,UAAU,CAACpB,UAAU,CAAC,CAClD,KAAM,CAAAqB,IAAI,CAAG,CACX,MAAM,CAAEzB,IAAI,CACZ,SAAS,CAAEE,OAAO,CAClB,MAAM,CAAEJ,KAAK,CACb,YAAY,CAAEyB,mBAAmB,CACjC,KAAK,CAAEjB,GAAG,CACV,YAAY,CAAEE,UAAU,CACxB,QAAQ,CAAEM,QAAQ,CAClB,gBAAgB,CAAEJ,cAAc,CAChC,iBAAiB,CAAEE,eACrB,CAAC,CACD,GAAI,CACF;AACA,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAAlC,KAAK,CAACmC,IAAI,CAAC,8EAA8E,CAAE,CAChH,OAAO,CAAE,CAACF,IAAI,CAChB,CAAC,CAAC,CACFN,UAAU,CAAC,0BAA0B,CAAC,CACtCS,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAAE;AAC9B,CAAE,MAAOC,KAAK,CAAE,CACdZ,UAAU,CAAC,wCAAwC,CAAC,CACpDS,OAAO,CAACG,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAAE;AAClC,CACF,CAAC,CAED;AACA,KAAM,CAAAP,UAAU,CAAIQ,UAAU,EAAK,CACjC,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACvC,KAAM,CAAAG,GAAG,CAAGC,MAAM,CAACH,UAAU,CAACI,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CACzD,KAAM,CAAAC,KAAK,CAAGH,MAAM,CAACH,UAAU,CAACO,QAAQ,CAAC,CAAC,CAAG,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAChE,KAAM,CAAAG,IAAI,CAAGR,UAAU,CAACS,WAAW,CAAC,CAAC,CACrC,SAAAC,MAAA,CAAUR,GAAG,MAAAQ,MAAA,CAAIJ,KAAK,MAAAI,MAAA,CAAIF,IAAI,EAChC,CAAC,CAED,mBACE7C,KAAA,QAAKgD,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnD,IAAA,OAAAmD,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BjD,KAAA,SAAMkD,QAAQ,CAAE1B,YAAa,CAAAyB,QAAA,eAC3BjD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBnD,IAAA,UACEqD,IAAI,CAAC,OAAO,CACZC,KAAK,CAAElD,KAAM,CACbmD,QAAQ,CAAG5B,CAAC,EAAKtB,QAAQ,CAACsB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBnD,IAAA,UACEqD,IAAI,CAAC,UAAU,CACfC,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,CAAG5B,CAAC,EAAKN,WAAW,CAACM,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,OAAK,CAAO,CAAC,cACpBnD,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEhD,IAAK,CACZiD,QAAQ,CAAG5B,CAAC,EAAKpB,OAAO,CAACoB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CACzCG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBnD,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE9C,OAAQ,CACf+C,QAAQ,CAAG5B,CAAC,EAAKlB,UAAU,CAACkB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC5CG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BnD,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE5C,UAAW,CAClB6C,QAAQ,CAAG5B,CAAC,EAAKhB,aAAa,CAACgB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC/CG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,MAAI,CAAO,CAAC,cACnBnD,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE1C,GAAI,CACX2C,QAAQ,CAAG5B,CAAC,EAAKd,MAAM,CAACc,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CACxCG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BjD,KAAA,WACEoD,KAAK,CAAExC,UAAW,CAClByC,QAAQ,CAAG5B,CAAC,EAAKZ,aAAa,CAACY,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC/CG,QAAQ,MAAAN,QAAA,eAERnD,IAAA,WAAQsD,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,QAAM,CAAQ,CAAC,cAChCnD,IAAA,WAAQsD,KAAK,CAAC,MAAM,CAAAH,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCnD,IAAA,WAAQsD,KAAK,CAAC,MAAM,CAAAH,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,cACNjD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,iBAAe,CAAO,CAAC,cAC9BnD,IAAA,UACEqD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEtC,cAAe,CACtBuC,QAAQ,CAAG5B,CAAC,EAAKV,iBAAiB,CAACU,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CACnDG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BnD,IAAA,UACEqD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEpC,eAAgB,CACvBqC,QAAQ,CAAG5B,CAAC,EAAKR,kBAAkB,CAACQ,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CACpDG,QAAQ,MACT,CAAC,EACC,CAAC,cACNvD,KAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnD,IAAA,UAAAmD,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBnD,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEhC,QAAS,CAChBiC,QAAQ,CAAG5B,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACT,CAAC,EACC,CAAC,cACNzD,IAAA,WAAQqD,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACnC,CAAC,CACN3B,OAAO,eAAIxB,IAAA,MAAGkD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAE3B,OAAO,CAAI,CAAC,EAC7C,CAAC,CAEV,CAEA,cAAe,CAAArB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}